package ru.cryhards.brootkiddie.malware.scripts

import ru.cryhards.brootkiddie.malware.Malware
import ru.cryhards.brootkiddie.malware.effects.ScriptEffect

abstract class Script {
    lateinit var malware: Malware
    var effects: ArrayList<ScriptEffect> = ArrayList()

    abstract fun getSize(): Int

    fun attach(malware: Malware) {
        this.malware = malware
    }

    fun addEffect(effect: ScriptEffect) {
        effect.attach(this)
        effects.add(effect)
    }

    open fun act() {
        for (effect in effects) {
            effect.act()
        }
    }
}